# @package _global_

defaults:
  #  - override /training: ensemble
  - override /hydra/sweeper: SMAC  # be carefull to make it /hydra
  - override /hydra/launcher: submitit_smac_slurm

min_epochs: 400

# define smac mf
hydra:
  launcher:
    partition: cpu_normal
  sweeper:
    budget_variable: ${training.epochs.2}
    seed: ${seed}
    n_jobs: 4
    scenario:
      run_obj: quality
      deterministic: true
      #      wallclock_limit: 100
      runcount_limit: 300
      cutoff: 1800 # runtime limit for target algorithm
      memory_limit: 3072 # adapt this to reasonable value for your hardware
    intensifier:
      initial_budget: ${min_epochs}
      max_budget: ${training.epochs.2}
      eta: 4

  run:
    dir: ./tmp/${now:%Y-%m-%d}/${now:%H-%M-%S}
  sweep:
    dir: ./tmp/${now:%Y-%m-%d}/${now:%H-%M-%S}
